{"version":3,"sources":["services/contactsApi.js","redux/contacts/contactsOperations.jsx","redux/auth/auth-slice.js","redux/contacts/contactsSlice.jsx","components/Container/Container.module.css","redux/auth/auth-operations.js","components/Container/Container.jsx","components/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.jsx","index.js","redux/auth/auth-selectors.js"],"names":["fetchContacts","a","axios","get","data","addContact","contact","post","dltContact","id","delete","defaults","baseURL","createAsyncThunk","_","rejectWithValue","contactsApi","contacts","message","addContacts","items","deleteContacts","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isFetchingCurrectUser","extraReducers","operations","register","fulfilled","state","action","payload","pending","error","rejected","logIn","logOut","fetchCurrentUser","contactsSlice","isLoading","filter","reducers","changeFilter","push","console","log","actions","module","exports","headers","common","Authorization","credentials","toast","response","thunkAPI","getState","persistedToken","auth","Container","children","className","s","container","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","authSelectors","getIsLoggedIn","to","exact","style","activeStyle","alignItems","avatar","marginRight","mapDispatchToProps","onLogout","authOperations","connect","getUsername","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PrivateRoute","routeProps","PublicRoute","restricted","redirectTo","shouldRedirect","HomeView","lazy","RegisterView","LoginView","PhonebookView","App","dispatch","useDispatch","useEffect","fallback","path","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","thunk","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phoneBook","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","querySelector","getIsFetchingCurrent","isFetchingCurrentUser"],"mappings":"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","file":"static/js/main.7c55bb13.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nexport async function fetchContacts() {\r\n  const { data } = await axios.get(\"/contacts\");\r\n  return data;\r\n}\r\n\r\nexport async function addContact(contact) {\r\n  const { data } = await axios.post(\"/contacts\", contact);\r\n\r\n  return data;\r\n}\r\n\r\nexport async function dltContact(id) {\r\n  await axios.delete(`/contacts/${id}`);\r\n  return id;\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport * as contactsApi from '../../services/contactsApi';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await contactsApi.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContacts = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const items = await contactsApi.addContact(contact);\r\n      return items;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContacts = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await contactsApi.dltContact(id);\r\n\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport operations from \"./auth-operations\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrectUser: false,\r\n};\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: {\r\n    [operations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [operations.register.pending](state) {\r\n      state.error = null;\r\n    },\r\n    [operations.register.rejected](state, action) {\r\n      state.error = action.payload.message;\r\n    },\r\n    [operations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n      state.error = null;\r\n    },\r\n    [operations.logIn.pending](state) {\r\n      state.error = null;\r\n    },\r\n    [operations.logIn.rejected](state, action) {\r\n      state.error = action.payload.message;\r\n    },\r\n    [operations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n      state.error = null;\r\n    },\r\n    [operations.logOut.pending](state, action) {\r\n      state.error = null;\r\n    },\r\n    [operations.logOut.rejected](state, action) {\r\n      state.error = action.payload.message;\r\n    },\r\n    [operations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrectUser = true;\r\n    },\r\n    [operations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrectUser = false;\r\n    },\r\n    [operations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrectUser = false;\r\n    },\r\n  },\r\n});\r\nexport default authSlice.reducer;\r\n","import {\r\n  addContacts,\r\n  deleteContacts,\r\n  fetchContacts,\r\n} from './contactsOperations';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'phoneBook',\r\n  initialState: {\r\n    contacts: [],\r\n    isLoading: false,\r\n    filter: '',\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    changeFilter: (state, action) => {\r\n      state.filter = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled](state, action) {\r\n      state.contacts = action.payload;\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [fetchContacts.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [fetchContacts.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n\r\n    },\r\n\r\n    [addContacts.fulfilled](state, action) {\r\n      state.contacts.push(action.payload);\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [addContacts.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [addContacts.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n      console.log(action.payload);\r\n    },\r\n\r\n    [deleteContacts.fulfilled](state, action) {\r\n      state.contacts = state.contacts.filter(\r\n        contact => contact.id !== action.payload,\r\n      );\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [deleteContacts.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [deleteContacts.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n      \r\n    },\r\n  },\r\n});\r\nexport default contactsSlice.reducer;\r\nexport const { changeFilter } = contactsSlice.actions;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__www8_\"};","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-toastify\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  \"auth/register\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/signup\", credentials);\r\n      token.set(data.token);\r\n      console.log(data);\r\n      return data;\r\n    } catch (error) {\r\n      toast.error(`Failed! Enter valid data`);\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logIn = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/login\", credentials);\r\n      token.set(data.token);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      toast.error(` Enter valid Email and Password!`);\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  \"auth/logout\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post(\"/users/logout\");\r\n      token.unset();\r\n    } catch (error) {\r\n      toast.error(` Something goes wrong!`);\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  \"auth/refresh\",\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  }\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"#2A363B\",\r\n  },\r\n  activeLink: {\r\n    color: \"#E84A5F\",\r\n  },\r\n};\r\n\r\nexport default function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        Home\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/phonebook\"\r\n          exact\r\n          style={styles.link}\r\n          activeStyle={styles.activeLink}\r\n        >\r\n          Phonebook\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n//import { authSelectors, authOperations } from \"../../redux/auth\";\r\n//import defaultAvatar from \"./useravatar.png\";\r\nimport authSelectors from \"../../redux/auth/auth-selectors\";\r\nimport authOperations from \"../../redux/auth/auth-operations\";\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => (\r\n  <div style={styles.container}>\r\n    <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\r\n    <span style={styles.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogout}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\nconst mapStateToProps = (state) => ({\r\n  name: authSelectors.getUsername(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"#2A363B\",\r\n  },\r\n  activeLink: {\r\n    color: \"#E84A5F\",\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Log in\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport UserMenu from \"./UserMenu/UserMenu\";\r\nimport AuthNav from \"./AuthNav\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nconst styles = {\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    borderBottom: \"1px solid #2A363B\",\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  console.log(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nexport default function PrivateRoute({ children, ...routeProps }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = \"/\",\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  console.log(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { lazy, Suspense } from \"react\";\r\nimport Container from \"./components/Container/Container\";\r\nimport AppBar from \"./components/AppBar\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useDispatch /*useSelector*/ } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { authOperations } from \"./redux/auth\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport PublicRoute from \"./components/PublicRoute\";\r\n\r\nconst HomeView = lazy(() => import(\"./views/HomeViews/HomeViews\"));\r\nconst RegisterView = lazy(() => import(\"./views/RegisterViews/RegisterViews\"));\r\nconst LoginView = lazy(() => import(\"./views/LoginViews/LoginViews\"));\r\nconst PhonebookView = lazy(() =>\r\n  import(\"./views/PhoneBookViews/PhonebookView\")\r\n);\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  // const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <AppBar />\r\n        <Switch>\r\n          <Suspense fallback={<p>Loading...</p>}>\r\n            <PublicRoute exact path=\"/\">\r\n              <HomeView />\r\n            </PublicRoute>\r\n\r\n            <PublicRoute exact path=\"/register\" restricted>\r\n              <RegisterView />\r\n            </PublicRoute>\r\n\r\n            <PublicRoute exact path=\"/login\" redirectTo=\"/phonebook\" restricted>\r\n              <LoginView />\r\n            </PublicRoute>\r\n\r\n            <PrivateRoute path=\"/phonebook\">\r\n              <PhonebookView />\r\n            </PrivateRoute>\r\n          </Suspense>\r\n        </Switch>\r\n      </Container>\r\n\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={3000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsSlice from './contacts/contactsSlice';\r\nimport { logger } from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer  from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n  thunk,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n   \r\n    phoneBook: contactsSlice,\r\n  },middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/es/integration/react\";\r\nimport { persistor } from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);\r\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\nconst getUsername = (state) => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrent = (state) => state.auth.isFetchingCurrentUser;\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrent,\r\n};\r\nexport default authSelectors;\r\n"],"sourceRoot":""}